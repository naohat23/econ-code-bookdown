---
title: "エコノミストのためのR"
author: "服部直樹"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: 
  bookdown::gitbook:
    #df_print: "paged"
    highlight: default
    toc_depth: 3
    config:
      toc:
        collapse: subsection
        scroll_highlights: yes
        before: |
          <li><a href="https://naohat23.github.io/econ-code-bookdown">エコノミストのためのR</a></li>
        after: |
          <li><a href="https://github.com/rstudio/bookdown">Published with bookdown</a></li>
      toolbar:
        position: fixed
      edit: null
      download: false
      sharing:
        github: yes
        facebook: yes
        linkedin: yes
        twitter: yes
github-repo: "naohat23/econ-code-bookdown"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# はじめに {.unnumbered}

本書は、エコノミストがRを使用して経済・金融データ分析を行うための方法をまとめたものです。

Rによるプログラミング、データの取り扱い、計量経済学などのデータ分析方法それぞれについて解説した書籍は、世の中に沢山あります。しかし、エコノミストがよく使用するコードや分析方法を体系的に整理し、かつ、いつでも・どこからでもコードにアクセスできるようにしたサービスが無かったので、本書を作成しました。

### なぜRを使うのか？ {-}

データ分析を行うソフトウェアには、R以外にも、EViews、Stata、Pythonといった選択肢があります。では、なぜRを使用するのでしょうか。

**無料**：　Rは無料で使用することができます。オフィスでも自宅でも同じソフトウェアで作業できるため、業務にも自己研鑽にも活用できます。また、所属組織が変わっても使い続けることができる点も大きなメリットです。無料で誰でも使えるということは、世界中に多くのユーザーがいて、書籍やオンラインに情報が沢山あるということでもあります。本書もその一つです。

**豊富なパッケージ**：　Rにはデータ分析を行うための追加パッケージが大量に開発されており、用途に応じてパッケージをインストールすることで、様々なデータ分析手法を使用することが可能です。オーソドックスな計量経済分析はもちろん、機械学習、自然言語処理、地理データ分析など、Rで実施可能な分析は多岐にわたります。

**データ分析に特化**：　RとPythonはよく比較されますが、Pythonが汎用プログラミング言語である一方、Rはデータ分析に特化しているという違いがあります。特に、Rの統合開発環境であるRStudioは、コードの記述と実行に加え、データ・変数の内容を一覧表示したり、図表をプロットしたり、ディレクトリやヘルプを表示したり、といった分析に欠かせない機能を一つの画面で操作することができ、ストレスなく作業できます。データ分析を行うのであれば、まずRを選択すべきでしょう。一方、高度な深層学習を行ったり、分析した結果を用いてアプリケーションを作成したりするのであれば、Pythonが向いているといえます。

**データ操作**：　Rのパッケージの一つである`tidyverse`では、直感的かつ効率的なデータ操作（データハンドリング）を行うことができます。データセットを読み込んだ後、変数の選択、フィルタ、集計、統合、新たな変数の計算、異常値の処理といった前処理をシームレスに実施し、そのまま図表作成や分析に進むことができます。また、データセットの読み込みも、データの在処がローカルかウェブかを問わず容易に行うことができます（ただし、プロキシ環境では設定が必要です）。

**図表作成**：　Rの`ggplot2`パッケージは非常に強力な図表作成機能をもち、折れ線グラフ、棒グラフ、散布図といったおなじみの図表だけでなく、ヒートマップ、QQプロット、ステップグラフ、ドットプロット、箱ひげ図、ヴァイオリングラフ、ジッターグラフ、複合グラフ（ファセット）などの高度な図表を作成することができます。図表は日本語表記にも対応しており、フォーマットを設定すれば、そのままレポートにも使用可能です。

### 本書で出来ること　{-}

エコノミストがRを使用してデータ分析を行う方法を、順序だてて学ぶことができます。Rの設定、Rの演算やオブジェクトの取り扱い方といった基本的な使用方法、`tidyverse`パッケージを使ってデータを自由に操作する方法、季節調整やトレンドなどの時系列データ特有の処理、`ggplot2`パッケージを使った図表作成、データの分析方針を決める探索的データ分析（EDA）、計量経済学の基礎である線形単回帰・重回帰について解説しています。すべてRのコードを記載していますので、すぐに結果を再現することが可能です。

今後、マクロ計量経済学からはベクトル自己回帰（VAR）モデル、ミクロ計量経済学からはパネルデータ分析、操作変数法、統計的因果推論について取り上げる予定です。

### 本書で出来ないこと {-}

本書はデータ分析の手法とコードの解説を主な目的にしており、その背景にある数学的な解説は行っていませんので、参考文献を参照してください。また、データ分析の手法について、エコノミストが使用することが比較的少ない機械学習、深層学習、自然言語処理の手法は現時点では取り上げていません。

## 目次 {.unnumbered}

1.  Rの設定
2.  Rの基本的な使用方法
3.  tidyverseによるデータ操作
4.  時系列データ操作
5.  ggplot2によるグラフ作成
6.  探索的データ分析（EDA）
7.  線形回帰（作成中）
8.  ベクトル自己回帰モデル（作成中）
9.  パネルデータ分析（作成中）
10. 統計的因果推論（作成中）

## 参考文献 {.unnumbered}

### Rの使用方法 {.unnumbered}

[Wickham, H., & Grolemund, G. (2017) 『Rではじめるデータサイエンス』オライリー・ジャパン](https://www.oreilly.co.jp/books/9784873118147/)

[馬場真哉 (2020) 『R言語ではじめるプログラミングとデータ分析』ソシム株式会社](https://www.socym.co.jp/book/1238)

### 計量経済学 {.unnumbered}

[Hanck, C., Arnold, M., Gerber, A., and Schmelzer, M., (2021) "Introduction to Econometrics with R"](https://www.econometrics-with-r.org/index.html)

[Hyndman, R.J., & Athanasopoulos, G. (2018) "Forecasting: principles and practice, 2nd edition", OTexts: Melbourne, Australia.](https://otexts.com/fpp2/)

[McAlinn, K. (2022) 「再現性問題における統計学の役割と責任」日本評論社『経済セミナー』2022年6・7月号　通巻 726号](https://www.nippyo.co.jp/shop/magazine/8801.html)

[末石直也 (2015) 『計量経済学ーミクロデータ分析へのいざないー』日本評論社](https://www.nippyo.co.jp/shop/book/6899.html)

[西山慶彦・新谷元嗣・川口大司・奥井亮 (2019) 『計量経済学』有斐閣](http://www.yuhikaku.co.jp/books/detail/9784641053854)

[山本勲 (2015) 『実証分析のための計量経済学ー正しい手法と結果の読み方ー』中央経済社](https://www.biz-book.jp/isbn/978-4-502-16811-6)
